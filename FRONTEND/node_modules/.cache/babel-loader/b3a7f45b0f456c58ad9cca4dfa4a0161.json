{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nafiz\\\\Desktop\\\\For GitHub\\\\VotingApp\\\\FRONTEND\\\\src\\\\ElectionComissionDashboard.js\";\nimport React, { useEffect, useState } from 'react';\nfunction ElectionComissionDashboard() {\n  const [results, setResults] = useState([]);\n  const [outcome, setOutcome] = useState('No results to be displayed');\n  const startElection = async () => {\n    try {\n      await fetch('http://localhost:3000/startElection', {\n        method: 'POST'\n      });\n      await updateElectionStatus('ongoing');\n      alert('Election started successfully!');\n    } catch (error) {\n      console.error('Error starting the election:', error);\n    }\n  };\n  const endElection = async () => {\n    try {\n      const response = await fetch('http://localhost:3000/endElection', {\n        method: 'POST'\n      });\n      const data = await response.json();\n      alert(data.message);\n      setOutcome(data.message);\n      fetchResults();\n    } catch (error) {\n      console.error('Error ending the election:', error);\n      alert(\"Failed to end the election.\");\n    }\n  };\n  const updateElectionStatus = async status => {\n    try {\n      await fetch('http://localhost:3000/updateElectionStatus', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          status\n        })\n      });\n    } catch (error) {\n      console.error('Error updating election status:', error);\n    }\n  };\n  const fetchResults = async () => {\n    try {\n      const response = await fetch('http://localhost:3000/results');\n      const fetchedResults = await response.json();\n      const groupedResults = fetchedResults.reduce((acc, result) => {\n        if (!acc[result.constituency_id]) {\n          acc[result.constituency_id] = {\n            constituency_id: result.constituency_id,\n            constituency_name: result.constituency_name,\n            candidates: []\n          };\n        }\n        acc[result.constituency_id].candidates.push({\n          candidate_id: result.candidate_id,\n          candidate_name: result.candidate_name,\n          party_name: result.party_name,\n          vote_count: result.vote_count\n        });\n        return acc;\n      }, {});\n      setResults(Object.values(groupedResults));\n    } catch (error) {\n      console.error('Error fetching results:', error);\n      alert(\"Failed to fetch results.\");\n    }\n  };\n  useEffect(() => {\n    fetchResults();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"text-center mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, \"Election Commission Dashboard\")), /*#__PURE__*/React.createElement(\"section\", {\n    id: \"electionControl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: startElection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, \"Start Election\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: endElection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, \"End Election\")), /*#__PURE__*/React.createElement(\"section\", {\n    id: \"resultsSection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, \"Election Results\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"results\",\n    className: \"results-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, results.map(result => /*#__PURE__*/React.createElement(\"div\", {\n    key: result.constituency_id,\n    className: \"constituency\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, result.constituency_name), result.candidates.map(candidate => /*#__PURE__*/React.createElement(\"div\", {\n    key: candidate.candidate_id,\n    className: \"candidate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, candidate.candidate_name, \" (\", candidate.party_name, \") - Votes: \", candidate.vote_count)))))), /*#__PURE__*/React.createElement(\"section\", {\n    id: \"announcement\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, \"Election Outcome\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"outcome\",\n    className: \"outcome-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, outcome)));\n}\nexport default ElectionComissionDashboard;","map":{"version":3,"names":["React","useEffect","useState","ElectionComissionDashboard","results","setResults","outcome","setOutcome","startElection","fetch","method","updateElectionStatus","alert","error","console","endElection","response","data","json","message","fetchResults","status","headers","body","JSON","stringify","fetchedResults","groupedResults","reduce","acc","result","constituency_id","constituency_name","candidates","push","candidate_id","candidate_name","party_name","vote_count","Object","values","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","id","onClick","map","key","candidate"],"sources":["C:/Users/nafiz/Desktop/For GitHub/VotingApp/FRONTEND/src/ElectionComissionDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nfunction ElectionComissionDashboard() {\r\n  const [results, setResults] = useState([]);\r\n  const [outcome, setOutcome] = useState('No results to be displayed');\r\n\r\n    const startElection = async () => {\r\n        try {\r\n            await fetch('http://localhost:3000/startElection', { method: 'POST' });\r\n            await updateElectionStatus('ongoing');\r\n            alert('Election started successfully!');\r\n        } catch (error) {\r\n            console.error('Error starting the election:', error);\r\n        }\r\n    };\r\n\r\nconst endElection = async () => {\r\n    try {\r\n        const response = await fetch('http://localhost:3000/endElection', { method: 'POST' });\r\n        const data = await response.json();\r\n        alert(data.message);  \r\n        setOutcome(data.message);  \r\n        fetchResults(); \r\n    } catch (error) {\r\n        console.error('Error ending the election:', error);\r\n        alert(\"Failed to end the election.\");\r\n    }\r\n};\r\n\r\n    const updateElectionStatus = async (status) => {\r\n        try {\r\n            await fetch('http://localhost:3000/updateElectionStatus', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ status })\r\n            });\r\n        } catch (error) {\r\n            console.error('Error updating election status:', error);\r\n        }\r\n    };\r\n\r\n  const fetchResults = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:3000/results');\r\n      const fetchedResults = await response.json();\r\n      const groupedResults = fetchedResults.reduce((acc, result) => {\r\n        if (!acc[result.constituency_id]) {\r\n          acc[result.constituency_id] = {\r\n            constituency_id: result.constituency_id,\r\n            constituency_name: result.constituency_name,\r\n            candidates: []\r\n          };\r\n        }\r\n        acc[result.constituency_id].candidates.push({\r\n          candidate_id: result.candidate_id,\r\n          candidate_name: result.candidate_name,\r\n          party_name: result.party_name,\r\n          vote_count: result.vote_count\r\n        });\r\n        return acc;\r\n      }, {});\r\n\r\n      setResults(Object.values(groupedResults));\r\n    } catch (error) {\r\n      console.error('Error fetching results:', error);\r\n      alert(\"Failed to fetch results.\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchResults();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <header className=\"text-center mb-4\">\r\n        <h1>Election Commission Dashboard</h1>\r\n      </header>\r\n      <section id=\"electionControl\">\r\n        <button onClick={startElection}>Start Election</button>\r\n        <button onClick={endElection}>End Election</button>\r\n      </section>\r\n      <section id=\"resultsSection\">\r\n        <h2>Election Results</h2>\r\n        <div id=\"results\" className=\"results-list\">\r\n          {results.map(result => (\r\n            <div key={result.constituency_id} className=\"constituency\">\r\n              <h3>{result.constituency_name}</h3>\r\n              {result.candidates.map(candidate => (\r\n                <div key={candidate.candidate_id} className=\"candidate\">\r\n                  {candidate.candidate_name} ({candidate.party_name}) - Votes: {candidate.vote_count}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </section>\r\n      <section id=\"announcement\">\r\n        <h2>Election Outcome</h2>\r\n        <div id=\"outcome\" className=\"outcome-message\">{outcome}</div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ElectionComissionDashboard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}